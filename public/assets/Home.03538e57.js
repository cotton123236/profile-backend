import{b as c,c as l,d as s,t as u,z as p,u as v,a as g,s as y,f as m,F as f,e as k,y as $}from"./index.ae2e279a.js";const D={class:"each-post"},I={class:"info"},S={class:"headshot"},T=["src"],x={class:"detail"},E={class:"name"},L={class:"date"},R=s("div",{class:"more-btn"},[s("i",{class:"icon-more"})],-1),w={class:"text"},B=["innerHTML"],P={class:"tool"},V={class:"like"},A=s("i",{class:"icon-like"},null,-1),F={key:0,class:"num"},M=s("div",{class:"commit"},[s("i",{class:"icon-commit"})],-1),U=s("div",{class:"share"},[s("i",{class:"icon-share"})],-1),b={props:{post:Object},setup(o){const e={day:864e5,hour:36e5,minute:6e4},d=a=>{const i=new Date,n=new Date(a),t=i.getTime()-n.getTime();if(t>=e.day){const r=n.getFullYear(),h=String(n.getMonth()+1).padStart(2,"0"),_=String(n.getDate()).padStart(2,"0");return`${r}/${h}/${_}`}else return t<e.day&&t>=e.hour?`${parseInt(t/e.hour)} \u5C0F\u6642\u524D`:t<e.hour&&t>=e.minute?`${parseInt(t/e.minute)} \u5206\u9418\u524D`:`${parseInt(t/1e3)} \u79D2\u524D`};return(a,i)=>(c(),l("div",D,[s("div",I,[s("div",S,[s("img",{src:o.post.user.image,alt:"user-photo"},null,8,T)]),s("div",x,[s("div",E,u(o.post.user.name),1),s("div",L,u(d(o.post.createdAt)),1)]),R]),s("div",w,[s("p",{innerHTML:o.post.content},null,8,B)]),s("div",P,[s("div",V,[A,o.post.likes.length?(c(),l("span",F,u(o.post.likes.length),1)):p("",!0)]),M,U])]))}};const H={class:"post-content"},O={key:1,class:"no-post"},j={setup(o){const{VITE_API_URL:e}={VITE_API_URL:"https://vast-wildwood-59278.herokuapp.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},d=v(),a=g(),{posts:i}=y(a),{getPosts:n}=a,t=`${e}/api/posts`;return n(d,t),(r,h)=>(c(),l("section",null,[s("div",H,[m(i).length?(c(!0),l(f,{key:0},k(m(i),_=>(c(),$(b,{key:_._id,post:_},null,8,["post"]))),128)):(c(),l("div",O," \u76EE\u524D\u5C1A\u7121\u52D5\u614B\uFF0C\u8A66\u8457\u65B0\u589E\u4E00\u5247\u52D5\u614B\u5427\uFF01 "))])]))}};export{j as default};
