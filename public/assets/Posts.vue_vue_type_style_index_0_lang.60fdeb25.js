import{d as l,z as d,A as u}from"./index.4774fbe9.js";const h=l("main",{state:()=>({isLogin:!0,posts:[],useModalPost:!1,useModalLoader:!1,useModalFollows:!1,useModalLikes:!1,filters:[{name:"\u6700\u65B0\u8CBC\u6587",sort:void 0},{name:"\u6700\u820A\u8CBC\u6587",sort:"timeasc"},{name:"\u6700\u71B1\u9580\u8CBC\u6587",sort:"hot"}]}),actions:{changeModalPostState(){this.useModalPost=!this.useModalPost},changeModalLoaderState(){this.useModalLoader=!this.useModalLoader},changeModalFollowsState(){this.useModalFollows=!this.useModalFollows},changeModalLikesState(){this.useModalLikes=!this.useModalLikes},useDateFormat(n){const s={day:864e5,hour:36e5,minute:6e4},o=new Date,a=new Date(n),e=o.getTime()-a.getTime();if(e>=s.day){const t=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0");return`${t}/${i}/${r}`}else return e<s.day&&e>=s.hour?`${parseInt(e/s.hour)} \u5C0F\u6642\u524D`:e<s.hour&&e>=s.minute?`${parseInt(e/s.minute)} \u5206\u9418\u524D`:`${parseInt(e/1e3)} \u79D2\u524D`},async getPosts(n,s){const{query:o}=n;Object.keys(o).forEach((t,i)=>{i===0?s+=`?${t}=${o[t]}`:s+=`&${t}=${o[t]}`});const e=await d.get(s);!e.data||(this.posts.length=0,Object.assign(this.posts,e.data.data),console.log(this.posts))},async appendQuery(n,s){const o=Object.keys(s)[0],a=s[o],e=Object.assign({},n.query,s);a||delete e[o],await u.push({query:e})}}});export{h as u};
